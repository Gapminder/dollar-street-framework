<div class="row wrapper border-bottom white-bg page-heading">
  <div class="col-lg-12">
    <h2>Things filter</h2>
  </div>
</div>

<div class="wrapper wrapper-content ecommerce info-page">
  <div class="row dndField">
    <div class="col-lg-12">
      <div class="ibox float-e-margins">
        <div class="ibox-content">
          <div class="table-responsive">
            <div ng-if="loadPage" class="spiner-container">
              <div class="sk-spinner sk-spinner-three-bounce">
                <div class="sk-bounce1"></div>
                <div class="sk-bounce2"></div>
                <div class="sk-bounce3"></div>
              </div>
            </div>

            <div class="container-scroll" ng-style="style()" resize>
              <form ng-submit="submitThing(popularThings.selected, allTopics.selected)">
                <div class="popular-things">
                  <div class="table-header">
                    <sort-table-header
                      class="table table-striped table-bordered table-hover dataTables-example dataTable"
                      sort="sort" cells="::tableHeaderPopularThings"></sort-table-header>
                  </div>

                  <table class="table table-striped table-bordered table-hover dataTables-example vertical-middle">
                    <tbody>
                    <tr>
                      <td class="col-md-12">
                        <ui-select multiple
                                   sortable="true"
                                   ng-change="checkValid(popularThings.selected, 'popular')"
                                   reset-search-input=true
                                   ng-model="popularThings.selected"
                                   ng-disabled="disabled">
                          <ui-select-match placeholder="Select Popular things">{{$item.thingName + '(' + $item.images
                            +')'}}
                          </ui-select-match>
                          <ui-select-choices
                            repeat="thing as thing in popularThings |  orderBy:'images'  :true | propsFilter: {thingName: $select.search}">
                            <span
                              ng-bind-html="thing.thingName + '(' + thing.images +')' | highlight: $select.search"></span>
                          </ui-select-choices>

                        </ui-select>

                        <div class="m-t-xs" ng-show="isValidPopular === false">
                          <small class="text-danger">Invalid thing</small>
                        </div>
                      </td>
                    </tr>
                    </tbody>
                  </table>

                </div>

                <div class="all-topics">
                  <div class="table-header">
                    <sort-table-header
                      class="table table-striped table-bordered table-hover dataTables-example dataTable"
                      sort="sort" cells="::tableHeaderAllTopics"></sort-table-header>
                  </div>

                  <table class="table table-striped table-bordered table-hover dataTables-example vertical-middle">
                    <tbody>
                    <tr>
                      <td class="col-md-12">
                        <ui-select ng-change="checkValid(allTopics.selected, 'all')" multiple sortable="true"
                                   reset-search-input=true ng-model="allTopics.selected" ng-disabled="disabled">
                          <ui-select-match placeholder="Select Topics">{{$item.thingName + '(' + $item.images +')'}}
                          </ui-select-match>
                          <ui-select-choices
                            repeat="thing as thing in allTopics |  orderBy: 'images' :true | propsFilter: {thingName: $select.search}">
                            <span
                              ng-bind-html="thing.thingName + '(' + thing.images +')' | highlight: $select.search"></span>
                          </ui-select-choices>
                        </ui-select>

                        <div class="m-t-xs" ng-show="isValidAllTopics === false">
                          <small class="text-danger">Invalid thing</small>
                        </div>
                      </td>
                    </tr>
                    </tbody>
                  </table>

                </div>

                <div ng-if="errorEnter" class="alert alert-danger" role="alert">Please fill out all fields!</div>

                <div align="left">
                  <div ng-show="isShow">
                    <div class="save-things-filter-content">
                      <button type="submit" class="btn btn-w-m btn-primary">Save</button>
                    </div>
                  </div>
                </div>

              </form>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
